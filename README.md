# server-study-13th
> 앱센터 13기 서버 스터디 내용

<br><br>

#### Midterm
>게시판 만들기: 사용자,게시글,댓글 세가지 모델로 구현하는 간단한 게시판 만들기

* 기술 요구
    1. 데이터베이스 모델 관계 정의(하나의 게시글에 여러개의 댓글이 달릴 수 있음,한 사용자는 여러 게시글 및 댓글 작성 가능)
    2. join 등을 활용하여 필요한 데이터만 추출하기
    3. 각 요청에 대한 응답처리

* 어려웠던 점:
    간단한 기술요구 사항들만 있어서 크게 어려웠던 점은 없었다.

* 후기
    > 캡스톤디자인에서 진행한 졸업작품을 하며 부족했던 내용을 다시 공부하며 확실히 내 것으로 만들 수 있는 과제였다.
        전체적으로 캡스톤디자인에서 활용한 내용과 비슷했으며 모델들의 수만 차이났을 뿐이어서 비교적 쉬웠고 복습할 수 있는 좋은 기회였다.

#### final:
> 게시판 만들기 심화버전: 관리자도 있고 이미지도 업로드 가능한 중간과제의 심화버전. 데이터베이스 모델이 6개이며 관계들도 복잡해지고 많아졌다.

* 기술 요구(Midterm 기술요구 포함)
    1. passport를 이용한 로그인 구현
    2. 로그인 유지
    3. jwt토큰 인증
    4. 게시글 이미지 AWS에 업로드
    5. 페이징
    6. swagger를 이용한 api 작성
    7. 테스트 작성
    8. express-validator를 이용한 올바른 요청 판별

* 어려웠던 점:
    1. jwt 토큰 인증
        평소 세션과 쿠키를 이용했으나 jwt 토큰은 처음 사용해 보았다. 처음이라 어려웠던 것 같고 한 번 발급한 후 인증하는 것은 어렵지 않았으나 토큰이 만료되어 재발급 또는 처음 발급하는 부분이 조금 버벅거렸다. 이 과제상으로는 문제가 없지만 개인적으로 많이 아쉬운 부분이다.
    2. 게시글 이미지 AWS에 업로드
        multer를 이용해 파일로 저장하는 방식은 해봤으나 AWS s3를 이용한 것은 처음이었다. 처음 올리는 것 까지는 잘 되었는데 수정과 삭제가 마음대로 되지않아 시간 소모를 많이했다. 모두 삭제가 된다던지 다른 이미지가 업데이트 되는 등의 문제였다. 구글을 활용하여 얻은 여러 정보를 이용해서 해결하였다.
    3. swagger를 이용한 api 작성
        api 명세를 swagger를 활용해서 작성하는 것이었다. 다른 모듈들도 많지만 난 swagger를 이용했다. 이유는 이렇게 명세하는 것이 처음이라 잘 몰랐는데 swagger가 작성하기 제일 쉬워보였기 때문이다. 문법을 몰라서 작성하는데 시간이 꽤 걸렸지만 공식문서 등을 참고하여 하나를 제대로 작성하자 나머지는 수월하게 작성할 수 있었다.
    3. test 작성
        모든 요청에 대해 테스트를 작성하는 것이었는데 혼자 하다보니 테스트를 작성하는 습관을 들이지 않고 postman을 이용한 테스트를 주로 이용해왔다. 그래서 테스트를 코드로 작성하는 것이 매우 힘들었고 2가지 요청 정도만 작성하고 나머지는 작성하지 못했다. 2가지 요청은 내가 들고있는 Nodejs 책을 보고 비슷하게 작성해 보았는데 다른 요청들을 작성할 때는 계속 오류가 생겨서 마감기한 내에 완성하지 못하고 제출하였다.

* 후기
    데이터베이스 여러 모델들의 복잡한 관계를 정의하여 사용하는 것이 처음이라 좋은 경험이었다. 복잡한 관계들로 필요한 데이터를 추출하기 위해서 그만큼 복잡한 쿼리문을 작성해야 했는데 해당 학기에 데이터베이스 강의를 듣는 중이라서 생각보다 쉽게 해결할 수 있었고 그만큼 내가 잘 활용할 수 있게되는 계기가 된 것 같았다. jwt토큰도 많이 쓰이는데 실제로 사용해서 좋은 경험이 된 것 같다. 특히 책을보며 혼자서 공부하면 사용할 일이 없었던 AWS에 이미지를 업로드 하거나 swagger를 이용하여 api명세를 하는 것 또한 좋은 경험이었다. 아마 혼자서 공부하여 이러한 과제를 접하지 못했다면 사용할 일이 없었을 것이다. 나보다 많이 배운 사람들이 만들어준 과제라서 덕분에 많이 배우고 공부하게 된 경험이었다. 테스트를 제대로 작성하지 못한 것이 많이 아쉬웠다. 테스트는 많이 작성해야 작성을 잘할 수 있다고 하던데 앞으로도 공부를 많이 해야할 부분인 것 같다. 다음에 비슷한 프로젝트를 하거나 이렇게 공부할 기회가 또 생긴다면 조금 더 완성도 높게 만들어보고 싶은 생각이다.
